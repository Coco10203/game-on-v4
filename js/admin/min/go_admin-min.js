function go_update_go_ajax(){var t=GO_EVERY_PAGE_DATA.nonces.go_upgade4;jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:t,action:"go_upgade4",loot:!0},success:function(t){alert("Done.  Hope that helps :)")}})}function go_update_go_ajax_no_task_loot(){var t=GO_EVERY_PAGE_DATA.nonces.go_upgade4;jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:t,action:"go_upgade4",loot:!1},success:function(t){alert("Done.  Hope that helps :)")}})}function go_sounds(t){if("store"==t){var e=new Audio(PluginDir.url+"media/gold.mp3");e.play()}else if("timer"==t){var e=new Audio(PluginDir.url+"media/airhorn.mp3");e.play()}}function go_admin_bar_stats_page_button(t){var e=GO_EVERY_PAGE_DATA.nonces.go_admin_bar_stats;jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:e,action:"go_admin_bar_stats",uid:t},success:function(t){-1!==t&&(jQuery.featherlight(t,{variant:"stats"}),jQuery(".go_stats_body_selectors").click(function(){switch(jQuery("#go_stats_help_video").length&&(myplayer=videojs("go_stats_help_video"),myplayer.pause(),myplayer.dispose()),body=jQuery("#go_stats_body"),body.css("background-color","#FFF"),jQuery(".go_stats_body_selectors").css("font-weight","normal"),tab=jQuery(this).attr("tab"),jQuery(this).css("font-weight","bold"),tab){case"about":go_stats_about();break;case"tasks":go_stats_task_list();break;case"items":go_stats_item_list();break;case"rewards":go_stats_rewards_list();break;case"activity":go_stats_activity_list();break;case"penalties":go_stats_penalties_list();break;case"badges":go_stats_badges_list();break;case"groups":go_stats_groups_list();break;case"leaderboard":go_stats_leaderboard();break}}))}})}function go_stats_help(){jQuery("#go_stats_body").append('<div id="go_stats_help_video_container"></div>'),jQuery("#go_stats_help_video_container").css({margin:"0px 10% 0px 15%",height:"100%",width:"100%"}),jQuery("#go_option_help_video").clone().prop("id","go_stats_help_video").attr("width","70%").attr("height","100%").appendTo("#go_stats_help_video_container"),jQuery("#go_stats_help_video").length&&(myplayer=videojs("go_stats_help_video"),myplayer.ready(function(){myplayer.src("http://maclab.guhsd.net/go/video/stats/help.mp4"),myplayer.load(),myplayer.play(),videoStatus="playing"}))}function go_stats_about(t){jQuery(".go_datatables").hide();var e=GO_EVERY_PAGE_DATA.nonces.go_stats_about;jQuery("#go_stats_about").length?jQuery("#go_stats_about").show():jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:e,action:"go_stats_about",user_id:jQuery("#go_stats_hidden_input").val()},success:function(t){-1!==t&&jQuery("#go_stats_body").append(t)}})}function go_stats_task_list(){jQuery(".go_datatables").hide();var t=GO_EVERY_PAGE_DATA.nonces.go_stats_task_list;jQuery("#go_task_list").length?jQuery("#go_task_list").show():jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:t,action:"go_stats_task_list",user_id:jQuery("#go_stats_hidden_input").val()},success:function(t){-1!==t&&(jQuery("#go_stats_body").append(t),jQuery("#go_tasks_datatable").dataTable({responsive:!0,autoWidth:!1}))}})}function go_stats_single_task_activity_list(t){jQuery(".go_datatables").hide();var e=GO_EVERY_PAGE_DATA.nonces.go_stats_single_task_activity_list;jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:e,action:"go_stats_single_task_activity_list",user_id:jQuery("#go_stats_hidden_input").val(),postID:t},success:function(t){-1!==t&&(jQuery("#go_task_list_single").remove(),jQuery("#go_stats_body").append(t),jQuery("#go_single_task_datatable").dataTable({bPaginate:!0,order:[[0,"desc"]],responsive:!0,autoWidth:!1}))}})}function go_stats_item_list(){jQuery(".go_datatables").hide();var t=GO_EVERY_PAGE_DATA.nonces.go_stats_item_list;jQuery("#go_item_list").length?jQuery("#go_item_list").show():jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:t,action:"go_stats_item_list",user_id:jQuery("#go_stats_hidden_input").val()},success:function(t){-1!==t&&(jQuery("#go_stats_body").append(t),jQuery("#go_store_datatable").dataTable({bPaginate:!0,order:[[0,"desc"]],responsive:!0,autoWidth:!1}))}})}function go_stats_rewards_list(){var t=GO_EVERY_PAGE_DATA.nonces.go_stats_rewards_list;jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:t,action:"go_stats_rewards_list",user_id:jQuery("#go_stats_hidden_input").val()},success:function(t){-1!==t&&jQuery("#go_stats_body").html(t)}})}function go_stats_activity_list(){jQuery(".go_datatables").hide();var t=GO_EVERY_PAGE_DATA.nonces.go_stats_activity_list;jQuery("#go_activity_list").length?jQuery("#go_activity_list").show():jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:t,action:"go_stats_activity_list",user_id:jQuery("#go_stats_hidden_input").val()},success:function(t){-1!==t&&(jQuery("#go_stats_body").append(t),jQuery("#go_activity_datatable").dataTable({processing:!0,serverSide:!0,ajax:{url:MyAjax.ajaxurl+"?action=go_activity_dataloader_ajax",type:"POST",data:function(t){t.user_id=jQuery("#go_stats_hidden_input").val()}},responsive:!0,autoWidth:!1,columnDefs:[{targets:"_all",orderable:!1}],searching:!1,createdRow:function(t,e,a){var s=jQuery(t).find("td:eq(0)").text(),_=new Date(1e3*s),o=_.getMonth(),r=_.getDate(),i=_.getFullYear().toString().slice(-2),n=_.getHours(),u="AM",l=n;l>=12&&(l=n-12,u="PM"),0==l&&(l=12);var d="0"+_.getMinutes(),g=o+"/"+r+"/"+i+"  "+l+":"+d.substr(-2)+" "+u;jQuery(t).find("td:eq(0)").attr("data-order",s).text(g)}}))}})}function go_stats_penalties_list(){var t=GO_EVERY_PAGE_DATA.nonces.go_stats_penalties_list;jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:t,action:"go_stats_penalties_list",user_id:jQuery("#go_stats_hidden_input").val()},success:function(t){-1!==t&&jQuery("#go_stats_body").html(t)}})}function go_stats_badges_list(){jQuery(".go_datatables").hide();var t=GO_EVERY_PAGE_DATA.nonces.go_stats_badges_list;jQuery("#go_badges_list").length?jQuery("#go_badges_list").show():jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:t,action:"go_stats_badges_list",user_id:jQuery("#go_stats_hidden_input").val()},success:function(t){-1!==t&&jQuery("#go_stats_body").append(t)}})}function go_stats_groups_list(){jQuery(".go_datatables").hide();var t=GO_EVERY_PAGE_DATA.nonces.go_stats_groups_list;jQuery("#go_groups_list").length?jQuery("#go_groups_list").show():jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:t,action:"go_stats_groups_list",user_id:jQuery("#go_stats_hidden_input").val()},success:function(t){-1!==t&&jQuery("#go_stats_body").append(t)}})}function go_test_filter(){var t=$("#go_task_list").DataTable();jQuery("#myInput").on("keyup",function(){t.search(this.value).draw()})}function go_sort_leaders(t,e){var a,s,_,o,r,i,n;for(a=document.getElementById(t),_=!0,console.log("switching");_;){for(_=!1,s=a.getElementsByTagName("TR"),o=1;o<s.length-1;o++)if(n=!1,r=s[o].getElementsByTagName("TD")[e],xVal=r.innerHTML,i=s[o+1].getElementsByTagName("TD")[e],yVal=i.innerHTML,parseInt(xVal)<parseInt(yVal)){n=!0;break}n&&(s[o].parentNode.insertBefore(s[o+1],s[o]),_=!0)}}function go_stats_leaderboard(){console.log("success"),jQuery.fn.dataTable.ext.search.push(function(t,e,a){var s=jQuery("#go_user_go_sections_select").val(),_=jQuery("#go_user_go_groups_select").val(),o=e[2],r=e[1];o=JSON.parse(o),r=JSON.parse(r);var i=jQuery.inArray(s,r);return("none"==_||-1!=jQuery.inArray(_,o))&&("none"==s||-1!=jQuery.inArray(s,r))}),jQuery(".go_datatables").hide();var t=GO_EVERY_PAGE_DATA.nonces.go_stats_leaderboard_choices,e=GO_EVERY_PAGE_DATA.nonces.go_stats_leaderboard;jQuery("#go_leaderboard_wrapper").length?jQuery("#go_leaderboard_wrapper").show():jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:e,action:"go_stats_leaderboard",user_id:jQuery("#go_stats_hidden_input").val()},success:function(t){console.log("success");var e={};try{var e=JSON.parse(t)}catch(t){}jQuery("#go_stats_body").append(e.html),jQuery(document).ready(function(){if(jQuery("#go_xp_leaders_datatable").length){go_sort_leaders("go_xp_leaders_datatable",4);var t=jQuery("#go_xp_leaders_datatable").DataTable({orderFixed:[[4,"desc"]],responsive:!0,autoWidth:!1,paging:!1,columnDefs:[{targets:[1],visible:!1},{targets:[2],visible:!1}],createdRow:function(t,e,a){jQuery(t).find("td:eq(0)").text(a+1)}})}if(jQuery("#go_gold_leaders_datatable").length){go_sort_leaders("go_gold_leaders_datatable",4);var e=jQuery("#go_gold_leaders_datatable").DataTable({paging:!1,orderFixed:[[4,"desc"]],responsive:!0,autoWidth:!1,columnDefs:[{targets:[1],visible:!1},{targets:[2],visible:!1}],createdRow:function(t,e,a){jQuery(t).find("td:eq(0)").text(a+1)}})}if(jQuery("#go_c4_leaders_datatable").length){go_sort_leaders("go_c4_leaders_datatable",4);var a=jQuery("#go_c4_leaders_datatable").DataTable({paging:!1,orderFixed:[[4,"desc"]],responsive:!0,autoWidth:!1,columnDefs:[{targets:[1],visible:!1},{targets:[2],visible:!1}],createdRow:function(t,e,a){jQuery(t).find("td:eq(0)").text(a+1)}})}if(jQuery("#go_badges_leaders_datatable").length){go_sort_leaders("go_badges_leaders_datatable",4);var s=jQuery("#go_badges_leaders_datatable").DataTable({paging:!1,orderFixed:[[4,"desc"]],responsive:!0,autoWidth:!1,columnDefs:[{targets:[1],visible:!1},{targets:[2],visible:!1}],createdRow:function(t,e,a){jQuery(t).find("td:eq(0)").text(a+1)}})}jQuery("#go_user_go_sections_select, #go_user_go_groups_select").change(function(){jQuery("#go_xp_leaders_datatable").length&&t.draw(),jQuery("#go_gold_leaders_datatable").length&&e.draw(),jQuery("#go_c4_leaders_datatable").length&&a.draw(),jQuery("#go_badges_leaders_datatable").length&&s.draw()})})}})}function go_stats_task_list(){jQuery(".go_datatables").hide();var t=GO_EVERY_PAGE_DATA.nonces.go_stats_task_list;if(jQuery("#go_task_list").length)jQuery("#go_task_list").show();else{var t=GO_EVERY_PAGE_DATA.nonces.go_stats_task_list;jQuery("#go_task_list").length?jQuery("#go_task_list").show():jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:t,action:"go_stats_task_list",user_id:jQuery("#go_stats_hidden_input").val()},success:function(t){-1!==t&&(jQuery("#go_stats_body").append(t),jQuery("#go_tasks_datatable").dataTable({responsive:!0,autoWidth:!1}))}})}}function go_stats_lite(t){jQuery(".go_datatables").hide();var e=GO_EVERY_PAGE_DATA.nonces.go_stats_lite;jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:e,action:"go_stats_lite",uid:t},success:function(t){-1!==t&&(jQuery("#go_task_list_lite").remove(),jQuery("#go_stats_body").append(t),jQuery("#go_tasks_datatable_lite").dataTable({destroy:!0,responsive:!0,autoWidth:!1}))}})}function decimalAdjust(t,e,a){return void 0===a||0==+a?Math[t](e):(e=+e,a=+a,isNaN(e)||"number"!=typeof a||a%1!=0?NaN:(e=e.toString().split("e"),e=Math[t](+(e[0]+"e"+(e[1]?+e[1]-a:-a))),e=e.toString().split("e"),+(e[0]+"e"+(e[1]?+e[1]+a:a))))}jQuery("input,select").bind("keydown",function(t){13===(t.keyCode||t.which)&&(t.preventDefault(),jQuery("input, select, textarea")[jQuery("input,select,textarea").index(this)+1].focus())}),jQuery(document).ready(function(){-1==jQuery(".taxonomy-task_chains #parent, .taxonomy-go_badges #parent").val()?(jQuery("#acf-term-fields").hide(),jQuery(".acf-field").hide()):(jQuery("#acf-term-fields").show(),jQuery(".acf-field").show()),jQuery(".taxonomy-task_chains #parent, .taxonomy-go_badges #parent").change(function(){-1==jQuery(this).val()?(jQuery("#acf-term-fields").hide(),jQuery(".acf-field").hide()):(jQuery("#acf-term-fields").show(),jQuery(".acf-field").show())});var t=jQuery("#post_ID").val();jQuery("#go_store_item_id .acf-input").html('[go_store id="'+t+'"]')}),jQuery(document).ready(function(){jQuery("#go_tool_update").click(go_update_go_ajax),jQuery("#go_tool_update_no_loot").click(go_update_go_ajax_no_task_loot)}),String.prototype.getMid=function(t,e){if("string"==typeof t&&"string"==typeof e){var a=t.length,s=this.length-(t.length+e.length);return this.substr(a,s)}},Math.round10||(Math.round10=function(t,e){return decimalAdjust("round",t,e)}),Math.floor10||(Math.floor10=function(t,e){return decimalAdjust("floor",t,e)}),Math.ceil10||(Math.ceil10=function(t,e){return decimalAdjust("ceil",t,e)}),jQuery.prototype.go_prev_n=function(t,e){if(void 0===t)return null;"int"!=typeof t&&(t=Number.parseInt(t));for(var a=null,s=0;s<t;s++)if(0===s)a=void 0!==e?jQuery(this).prev(e):jQuery(this).prev();else{if(null===a)break;a=void 0!==e?jQuery(a).prev(e):jQuery(a).prev()}return a};
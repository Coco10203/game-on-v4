function go_sounds(t){if("store"==t){var e=new Audio(PluginDir.url+"media/gold.mp3");e.play()}else if("timer"==t){var e=new Audio(PluginDir.url+"media/airhorn.mp3");e.play()}}function go_admin_bar_stats_page_button(t){var e=GO_EVERY_PAGE_DATA.nonces.go_admin_bar_stats;jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:e,action:"go_admin_bar_stats",uid:t},success:function(t){-1!==t&&(jQuery.featherlight(t,{variant:"stats"}),jQuery(".go_stats_body_selectors").click(function(){switch(jQuery("#go_stats_help_video").length&&(myplayer=videojs("go_stats_help_video"),myplayer.pause(),myplayer.dispose()),body=jQuery("#go_stats_body"),body.css("background-color","#FFF"),jQuery(".go_stats_body_selectors").css("font-weight","normal"),tab=jQuery(this).attr("tab"),jQuery(this).css("font-weight","bold"),tab){case"about":go_stats_about();break;case"tasks":go_stats_task_list();break;case"items":go_stats_item_list();break;case"rewards":go_stats_rewards_list();break;case"activity":go_stats_activity_list();break;case"penalties":go_stats_penalties_list();break;case"badges":go_stats_badges_list();break;case"groups":go_stats_groups_list();break;case"leaderboard":go_stats_leaderboard();break}}))}})}function go_stats_help(){jQuery("#go_stats_body").append('<div id="go_stats_help_video_container"></div>'),jQuery("#go_stats_help_video_container").css({margin:"0px 10% 0px 15%",height:"100%",width:"100%"}),jQuery("#go_option_help_video").clone().prop("id","go_stats_help_video").attr("width","70%").attr("height","100%").appendTo("#go_stats_help_video_container"),jQuery("#go_stats_help_video").length&&(myplayer=videojs("go_stats_help_video"),myplayer.ready(function(){myplayer.src("http://maclab.guhsd.net/go/video/stats/help.mp4"),myplayer.load(),myplayer.play(),videoStatus="playing"}))}function go_stats_about(t){jQuery(".go_datatables").hide();var e=GO_EVERY_PAGE_DATA.nonces.go_stats_about;jQuery("#go_stats_about").length?jQuery("#go_stats_about").show():jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:e,action:"go_stats_about",user_id:jQuery("#go_stats_hidden_input").val()},success:function(t){-1!==t&&jQuery("#go_stats_body").append(t)}})}function go_stats_task_list(){jQuery(".go_datatables").hide();var t=GO_EVERY_PAGE_DATA.nonces.go_stats_task_list;jQuery("#go_task_list").length?jQuery("#go_task_list").show():jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:t,action:"go_stats_task_list",user_id:jQuery("#go_stats_hidden_input").val()},success:function(t){-1!==t&&(jQuery("#go_stats_body").append(t),jQuery("#go_tasks_datatable").dataTable({responsive:!0,autoWidth:!1}))}})}function go_stats_single_task_activity_list(t){jQuery(".go_datatables").hide();var e=GO_EVERY_PAGE_DATA.nonces.go_stats_single_task_activity_list;jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:e,action:"go_stats_single_task_activity_list",user_id:jQuery("#go_stats_hidden_input").val(),postID:t},success:function(t){-1!==t&&(jQuery("#go_task_list_single").remove(),jQuery("#go_stats_body").append(t),jQuery("#go_single_task_datatable").dataTable({bPaginate:!0,order:[[0,"desc"]],responsive:!0,autoWidth:!1}))}})}function go_stats_item_list(){jQuery(".go_datatables").hide();var t=GO_EVERY_PAGE_DATA.nonces.go_stats_item_list;jQuery("#go_item_list").length?jQuery("#go_item_list").show():jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:t,action:"go_stats_item_list",user_id:jQuery("#go_stats_hidden_input").val()},success:function(t){-1!==t&&(jQuery("#go_stats_body").append(t),jQuery("#go_store_datatable").dataTable({bPaginate:!0,order:[[0,"desc"]],responsive:!0,autoWidth:!1}))}})}function go_stats_rewards_list(){var t=GO_EVERY_PAGE_DATA.nonces.go_stats_rewards_list;jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:t,action:"go_stats_rewards_list",user_id:jQuery("#go_stats_hidden_input").val()},success:function(t){-1!==t&&jQuery("#go_stats_body").html(t)}})}function go_stats_activity_list(){jQuery(".go_datatables").hide();var t=GO_EVERY_PAGE_DATA.nonces.go_stats_activity_list;jQuery("#go_activity_list").length?jQuery("#go_activity_list").show():jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:t,action:"go_stats_activity_list",user_id:jQuery("#go_stats_hidden_input").val()},success:function(t){-1!==t&&(jQuery("#go_stats_body").append(t),jQuery("#go_activity_datatable").dataTable({processing:!0,serverSide:!0,ajax:{url:MyAjax.ajaxurl+"?action=go_activity_dataloader_ajax",type:"POST",data:function(t){t.user_id=jQuery("#go_stats_hidden_input").val()}},responsive:!0,autoWidth:!1,columnDefs:[{targets:"_all",orderable:!1}],searching:!1,createdRow:function(t,e,a){var s=jQuery(t).find("td:eq(0)").text(),o=new Date(1e3*s),r=o.getMonth(),_=o.getDate(),i=o.getFullYear().toString().slice(-2),n=o.getHours(),u="AM",l=n;l>=12&&(l=n-12,u="PM"),0==l&&(l=12);var d="0"+o.getMinutes(),g=r+"/"+_+"/"+i+"  "+l+":"+d.substr(-2)+" "+u;jQuery(t).find("td:eq(0)").attr("data-order",s).text(g)}}))}})}function go_stats_penalties_list(){var t=GO_EVERY_PAGE_DATA.nonces.go_stats_penalties_list;jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:t,action:"go_stats_penalties_list",user_id:jQuery("#go_stats_hidden_input").val()},success:function(t){-1!==t&&jQuery("#go_stats_body").html(t)}})}function go_stats_badges_list(){jQuery(".go_datatables").hide();var t=GO_EVERY_PAGE_DATA.nonces.go_stats_badges_list;jQuery("#go_badges_list").length?jQuery("#go_badges_list").show():jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:t,action:"go_stats_badges_list",user_id:jQuery("#go_stats_hidden_input").val()},success:function(t){-1!==t&&jQuery("#go_stats_body").append(t)}})}function go_stats_groups_list(){jQuery(".go_datatables").hide();var t=GO_EVERY_PAGE_DATA.nonces.go_stats_groups_list;jQuery("#go_groups_list").length?jQuery("#go_groups_list").show():jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:t,action:"go_stats_groups_list",user_id:jQuery("#go_stats_hidden_input").val()},success:function(t){-1!==t&&jQuery("#go_stats_body").append(t)}})}function go_test_filter(){var t=$("#go_task_list").DataTable();jQuery("#myInput").on("keyup",function(){t.search(this.value).draw()})}function go_sort_leaders(t,e){var a,s,o,r,_,i,n;for(a=document.getElementById(t),o=!0,console.log("switching");o;){for(o=!1,s=a.getElementsByTagName("TR"),r=1;r<s.length-1;r++)if(n=!1,_=s[r].getElementsByTagName("TD")[e],xVal=_.innerHTML,i=s[r+1].getElementsByTagName("TD")[e],yVal=i.innerHTML,parseInt(xVal)<parseInt(yVal)){n=!0;break}n&&(s[r].parentNode.insertBefore(s[r+1],s[r]),o=!0)}}function go_stats_leaderboard(){console.log("success"),jQuery.fn.dataTable.ext.search.push(function(t,e,a){var s=jQuery("#go_user_go_sections_select").val(),o=jQuery("#go_user_go_groups_select").val(),r=e[2],_=e[1];r=JSON.parse(r),_=JSON.parse(_);var i=jQuery.inArray(s,_);return("none"==o||-1!=jQuery.inArray(o,r))&&("none"==s||-1!=jQuery.inArray(s,_))}),jQuery(".go_datatables").hide();var t=GO_EVERY_PAGE_DATA.nonces.go_stats_leaderboard_choices,e=GO_EVERY_PAGE_DATA.nonces.go_stats_leaderboard;jQuery("#go_leaderboard_wrapper").length?jQuery("#go_leaderboard_wrapper").show():jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:e,action:"go_stats_leaderboard",user_id:jQuery("#go_stats_hidden_input").val()},success:function(t){console.log("success");var e={};try{var e=JSON.parse(t)}catch(t){}jQuery("#go_stats_body").append(e.html),jQuery(document).ready(function(){if(jQuery("#go_xp_leaders_datatable").length){go_sort_leaders("go_xp_leaders_datatable",4);var t=jQuery("#go_xp_leaders_datatable").DataTable({orderFixed:[[4,"desc"]],responsive:!0,autoWidth:!1,paging:!1,columnDefs:[{targets:[1],visible:!1},{targets:[2],visible:!1}],createdRow:function(t,e,a){jQuery(t).find("td:eq(0)").text(a+1)}})}if(jQuery("#go_gold_leaders_datatable").length){go_sort_leaders("go_gold_leaders_datatable",4);var e=jQuery("#go_gold_leaders_datatable").DataTable({paging:!1,orderFixed:[[4,"desc"]],responsive:!0,autoWidth:!1,columnDefs:[{targets:[1],visible:!1},{targets:[2],visible:!1}],createdRow:function(t,e,a){jQuery(t).find("td:eq(0)").text(a+1)}})}if(jQuery("#go_c4_leaders_datatable").length){go_sort_leaders("go_c4_leaders_datatable",4);var a=jQuery("#go_c4_leaders_datatable").DataTable({paging:!1,orderFixed:[[4,"desc"]],responsive:!0,autoWidth:!1,columnDefs:[{targets:[1],visible:!1},{targets:[2],visible:!1}],createdRow:function(t,e,a){jQuery(t).find("td:eq(0)").text(a+1)}})}if(jQuery("#go_badges_leaders_datatable").length){go_sort_leaders("go_badges_leaders_datatable",4);var s=jQuery("#go_badges_leaders_datatable").DataTable({paging:!1,orderFixed:[[4,"desc"]],responsive:!0,autoWidth:!1,columnDefs:[{targets:[1],visible:!1},{targets:[2],visible:!1}],createdRow:function(t,e,a){jQuery(t).find("td:eq(0)").text(a+1)}})}jQuery("#go_user_go_sections_select, #go_user_go_groups_select").change(function(){jQuery("#go_xp_leaders_datatable").length&&t.draw(),jQuery("#go_gold_leaders_datatable").length&&e.draw(),jQuery("#go_c4_leaders_datatable").length&&a.draw(),jQuery("#go_badges_leaders_datatable").length&&s.draw()})})}})}function go_stats_task_list(){jQuery(".go_datatables").hide();var t=GO_EVERY_PAGE_DATA.nonces.go_stats_task_list;if(jQuery("#go_task_list").length)jQuery("#go_task_list").show();else{var t=GO_EVERY_PAGE_DATA.nonces.go_stats_task_list;jQuery("#go_task_list").length?jQuery("#go_task_list").show():jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:t,action:"go_stats_task_list",user_id:jQuery("#go_stats_hidden_input").val()},success:function(t){-1!==t&&(jQuery("#go_stats_body").append(t),jQuery("#go_tasks_datatable").dataTable({responsive:!0,autoWidth:!1}))}})}}function go_stats_lite(t){jQuery(".go_datatables").hide();var e=GO_EVERY_PAGE_DATA.nonces.go_stats_lite;jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:e,action:"go_stats_lite",uid:t},success:function(t){-1!==t&&(jQuery("#go_task_list_lite").remove(),jQuery("#go_stats_body").append(t),jQuery("#go_tasks_datatable_lite").dataTable({destroy:!0,responsive:!0,autoWidth:!1}))}})}function decimalAdjust(t,e,a){return void 0===a||0==+a?Math[t](e):(e=+e,a=+a,isNaN(e)||"number"!=typeof a||a%1!=0?NaN:(e=e.toString().split("e"),e=Math[t](+(e[0]+"e"+(e[1]?+e[1]-a:-a))),e=e.toString().split("e"),+(e[0]+"e"+(e[1]?+e[1]+a:a))))}function go_lb_opener(t){if(jQuery("#light").css("display","block"),jQuery(".go_str_item").prop("onclick",null).off("click"),"none"==jQuery("#go_stats_page_black_bg").css("display")&&jQuery("#fade").css("display","block"),!jQuery.trim(jQuery("#lb-content").html()).length){var e=t,a=GO_EVERY_PAGE_DATA.nonces.go_lb_ajax_referall,s={action:"go_lb_ajax",nonce:a,the_item_id:e},o="<?php echo admin_url( '/admin-ajax.php' ); ?>";jQuery.ajax({url:MyAjax.ajaxurl,type:"POST",data:s,beforeSend:function(){jQuery("#lb-content").append('<div class="go-lb-loading"></div>')},cache:!1,success:function(t,e,a){jQuery("#lb-content").innerHTML="",jQuery("#lb-content").html(""),jQuery.featherlight(t,{variant:"store"}),jQuery(".go_str_item").one("click",function(t){go_lb_opener(this.id)}),window.go_purchase_limit=jQuery("#golb-fr-purchase-limit").attr("val"),window.go_store_debt_enabled="true"===jQuery(".golb-fr-boxes-debt").val();var s=go_purchase_limit;jQuery("#go_qty").spinner({max:s,min:1,stop:function(){jQuery(this).change()}})}})}}function goBuytheItem(t,e){var a=GO_BUY_ITEM_DATA.nonces.go_buy_item,s=GO_BUY_ITEM_DATA.userID;console.log(s),jQuery(document).ready(function(e){var o={_ajax_nonce:a,action:"go_buy_item",the_id:t,qty:e("#go_qty").val(),user_id:s};e.ajax({url:MyAjax.ajaxurl,type:"POST",data:o,beforeSend:function(){e("#golb-fr-buy").innerHTML="",e("#golb-fr-buy").html(""),e("#golb-fr-buy").append('<div id="go-buy-loading" class="buy_gold"></div>')},success:function(t){var a={};try{var a=JSON.parse(t)}catch(t){a={json_status:"101",html:"101 Error: Please try again."}}-1!==t.indexOf("Error")?e("#light").html(t):e("#light").html(a.html)}})})}function go_count_item(t){var e=GO_BUY_ITEM_DATA.nonces.go_get_purchase_count;jQuery.ajax({url:MyAjax.ajaxurl,type:"POST",data:{_ajax_nonce:e,action:"go_get_purchase_count",item_id:t},success:function(t){if(-1!==t){var e=t.toString();jQuery("#golb-purchased").html("Quantity purchased: "+e)}}})}function fitVidsNow(){jQuery("body").fitVids()}function Max_width_and_LightboxNow(){var t=jQuery("#go_wrapper").data("maxwidth");if(jQuery(".fluid-width-video-wrapper:not(.fit)").each(function(){jQuery(this).wrap('<div class="max-width-video-wrapper" style="position:relative;"><div>'),jQuery(this).addClass("fit"),jQuery(".max-width-video-wrapper").css("max-width",t)}),1===jQuery("#go_wrapper").data("lightbox")){var e={};jQuery(".max-width-video-wrapper:not(.wrapped)").each(function(){jQuery(this).prepend('<a style="display:block;" class="featherlight_wrapper" href="#" data-featherlight="iframe" ><span style="position:absolute; width:100%; height:100%; top:0; left: 0; z-index: 1;"></span></a>'),jQuery(this).addClass("wrapped")});var a={};jQuery('[class^="featherlight_wrapper"]').each(function(){var t=jQuery(this).parent().find("iframe").attr("src");jQuery(this).attr("href",t);var e=jQuery(this).attr("href");jQuery(this).attr("href",e+"?&autoplay=1"),jQuery.featherlight.defaults.iframeWidth="100%",jQuery.featherlight.defaults.iframeHeight="100%",jQuery(this).featherlight()})}}function Vids_Fit_and_Box(){function t(t){fitVidsNow(),t()}t(function(){Max_width_and_LightboxNow()})}String.prototype.getMid=function(t,e){if("string"==typeof t&&"string"==typeof e){var a=t.length,s=this.length-(t.length+e.length);return this.substr(a,s)}},Math.round10||(Math.round10=function(t,e){return decimalAdjust("round",t,e)}),Math.floor10||(Math.floor10=function(t,e){return decimalAdjust("floor",t,e)}),Math.ceil10||(Math.ceil10=function(t,e){return decimalAdjust("ceil",t,e)}),jQuery.prototype.go_prev_n=function(t,e){if(void 0===t)return null;"int"!=typeof t&&(t=Number.parseInt(t));for(var a=null,s=0;s<t;s++)if(0===s)a=void 0!==e?jQuery(this).prev(e):jQuery(this).prev();else{if(null===a)break;a=void 0!==e?jQuery(a).prev(e):jQuery(a).prev()}return a},jQuery(document).ready(function(){jQuery(".go_str_item").one("click",function(t){go_lb_opener(this.id)})}),jQuery(window).ready(function(){Vids_Fit_and_Box()});
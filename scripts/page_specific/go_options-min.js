function go_calc_loot_preset(e,o){void 0!==e&&e instanceof Array&&5===e.length||(0===o?e=[5,5,10,30,30]:1===o&&(e=[0,0,3,9,9])),0!==o&&1!==o&&(o=0);for(var t=[],n=0;n<5;n++){var _=0,a=Number.parseInt(e[n]);_=n>1?2*a:a,t.push(_)}return t}jQuery(document).ready(function(){jQuery(".go_options_no_help").click(!1);var e=[jQuery("#go_options_naming_conventions_wrap"),jQuery("#go_options_loot_presets_wrap"),jQuery("#go_options_admin_bar_wrap"),jQuery("#go_options_levels_wrap"),jQuery("#go_options_seating_chart_wrap"),jQuery("#go_options_profession_wrap"),jQuery("#go_options_video_wrap"),jQuery("#go_options_additional_settings_wrap")];for(wrap in e)e[wrap].toggle("slow");var o=[jQuery('input[name="go_data_reset_points"]').parent(".go_options"),jQuery('input[name="go_data_reset_currency"]').parent(".go_options"),jQuery('input[name="go_data_reset_bonus_currency"]').parent(".go_options"),jQuery('input[name="go_data_reset_penalty"]').parent(".go_options"),jQuery('input[name="go_data_reset_minutes"]').parent(".go_options"),jQuery('input[name="go_data_reset_badges"]').parent(".go_options"),jQuery('input[name="go_data_reset_all"]').parent(".go_options"),jQuery("#go_data_reset").parent(".go_options")],t=[jQuery('input[name="go_data_reset_points"]'),jQuery('input[name="go_data_reset_currency"]'),jQuery('input[name="go_data_reset_bonus_currency"]'),jQuery('input[name="go_data_reset_penalty"]'),jQuery('input[name="go_data_reset_minutes"]'),jQuery('input[name="go_data_reset_badges"]'),jQuery('input[name="go_data_reset_all"]')];jQuery(".go_options_accordion").click(function(){0===jQuery(".go_data_reset_disclaimer").length&&jQuery('input[name="go_data_reset_switch"]').parent("div").append("<span class='go_data_reset_disclaimer' style='display: none;'>Select data to reset.</span>"),jQuery(".go_options_triangle",this).toggleClass("go_triangle_up");var t=jQuery(this).parent(".go_options_accordion_wrap").attr("opt");if(jQuery.each(e,function(o,n){e[o]!=t&&jQuery(e[o]).is(":visible")&&e[o].toggle("slow")}),jQuery(e[t]).is(":visible")?jQuery(e[t]).hide("slow"):e[t].toggle("slow"),jQuery('input[name="go_focus_switch"]').is(":checked")?jQuery("#go_options_professions_names_wrap").show("slow"):jQuery("#go_options_professions_names_wrap").hide("slow"),jQuery('input[name="go_data_reset_switch"]').is(":checked")){jQuery(".go_data_reset_disclaimer").show("slow");for(display in o)o[display].show("slow")}else{jQuery(".go_data_reset_disclaimer").hide("slow");for(display in o)o[display].hide("slow")}}),jQuery('input[name="go_focus_switch"]').click(function(){jQuery('input[name="go_focus_switch"]').is(":checked")?jQuery("#go_options_professions_names_wrap").show("slow"):jQuery("#go_options_professions_names_wrap").hide("slow")}),jQuery('input[name="go_data_reset_switch"]').click(function(){if(jQuery('input[name="go_data_reset_switch"]').is(":checked")){jQuery(".go_data_reset_disclaimer").show("slow");for(display in o)o[display].show("slow")}else{jQuery(".go_data_reset_disclaimer").hide("slow");for(display in o)o[display].hide("slow")}}),jQuery(".go_add_period").last().after('<button type="button" class="go_remove_period">-</button>'),jQuery(".go_add_computer").last().after('<button type="button" class="go_remove_computer">-</button>'),jQuery(".go_add_preset").last().after('<button type="button" class="go_remove_preset">-</button>'),jQuery("button").click(function(e){e.preventDefault()});var n=jQuery("input[name='go_level_names']").val();jQuery("input[name='go_level_names']").attr("old_value",n);var _=jQuery("input[name='go_class_a_name']").val();jQuery("input[name='go_class_a_name']").attr("old_value",_);var a=jQuery("input[name='go_class_b_name']").val();jQuery("input[name='go_class_b_name']").attr("old_value",a),jQuery(".go_options_preset_name_input").appendTo("#go_options_preset_name"),jQuery(".go_options_preset_points_input").appendTo("#go_options_preset_points"),jQuery(".go_options_preset_currency_input").appendTo("#go_options_preset_currency"),jQuery(".go_options_level_points_input").appendTo("#go_options_level_points"),jQuery(".go_options_level_badges_input").appendTo("#go_options_level_badges"),jQuery(".go_options_profession_input").appendTo("#go_options_professions"),jQuery(".go_options_profession_input").length>1?jQuery(".go_options_profession_input").last().after('<button type="button" class="go_remove_profession">-</button><button type="button" class="go_add_profession">+</button>'):jQuery(".go_options_profession_input").last().after('<button type="button" class="go_add_profession">+</button>'),jQuery(document).on("click",".go_remove_preset",function(){jQuery(".go_options_preset_name_input").length>1&&(key=jQuery(".go_options_preset_name_input").last().attr("key"),jQuery('input[key="'+key+'"]').remove()),1==jQuery(".go_options_preset_name_input").length&&jQuery(".go_remove_preset").remove()}),jQuery(".go_add_preset").click(function(){var e=jQuery(".go_options_preset_name_input").last().val(),o=/((\S)+(\s)+)+((\d)+)/;if(e.match(o)){for(var t=e.split(" "),n="",_=0;_<t.length;_++)_+1<t.length&&(n+=t[_]+" ");var a=Number(t.pop())+1,s=n+a}else var s=e;var r=jQuery(".go_options_preset_name_input").last().attr("key"),i=[];jQuery('.go_options_preset_points_input[key="'+r+'"]').each(function(e){i[e]=this.value});var p=[];jQuery('.go_options_preset_currency_input[key="'+r+'"]').each(function(e){p[e]=this.value}),i=go_calc_loot_preset(i,0),p=go_calc_loot_preset(p,0);var u=jQuery(".go_options_preset_name_input").length;for(jQuery(".go_remove_preset").remove(),jQuery("#go_options_preset_name").append("<input type='text' class='go_options_preset_name_input go_options_preset_input' name='go_presets[name]["+u+"]' key='"+u+"'value='"+s+"'/>"),_=0;_<5;_++)jQuery("#go_options_preset_points").append("<input type='text' class='go_options_preset_points_input go_options_preset_input' name='go_presets[points]["+u+"][]' key='"+u+"' value='"+i[_]+"'/>"),jQuery("#go_options_preset_currency").append("<input type='text' class='go_options_preset_currency_input go_options_preset_input' name='go_presets[currency]["+u+"][]' key='"+u+"' value='"+p[_]+"'/>");jQuery(".go_add_preset").last().after('<button type="button" class="go_remove_preset">-</button>')}),jQuery("#go_reset_presets").click(function(){var e=GO_OPTION_DATA.nonces.go_presets_reset;jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:e,action:"go_presets_reset"},success:function(e){if(-1!==e){presets=JSON.parse(e),jQuery("#go_options_preset_name").empty(),jQuery("#go_options_preset_points").empty(),jQuery("#go_options_preset_currency").empty();for(name in presets.name)jQuery("#go_options_preset_name").append("<input type='text' class='go_options_preset_name_input go_options_preset_input' name='go_presets[name]["+name+"]' key='"+name+"' value='"+presets.name[name]+"'/>");for(points in presets.points)for(point in presets.points)jQuery("#go_options_preset_points").append("<input type='text' class='go_options_preset_points_input go_options_preset_input' name='go_presets[points]["+points+"][]' key='"+points+"' value='"+presets.points[points][point]+"'/>");for(currency in presets.currency)for(cur in presets.currency)jQuery("#go_options_preset_currency").append("<input type='text' class='go_options_preset_currency_input go_options_preset_input' name='go_presets[currency]["+currency+"][]' key='"+currency+"' value='"+presets.currency[currency][cur]+"'/>")}}})}),jQuery("#go_save_presets").click(function(){var e=[],o=[],t=[],n=jQuery(".go_options_preset_name_input").length;for(i=0;i<n;i++)o[i]=[],t[i]=[];jQuery(".go_options_preset_name_input").each(function(){e.push(jQuery(this).val())}),jQuery(".go_options_preset_points_input").each(function(){o[jQuery(this).attr("key")].push(jQuery(this).val())}),jQuery(".go_options_preset_currency_input").each(function(){t[jQuery(this).attr("key")].push(jQuery(this).val())});var _=GO_OPTION_DATA.nonces.go_presets_save;jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:_,action:"go_presets_save",go_preset_name:e,go_preset_points:o,go_preset_currency:t}})}),jQuery(document).on("click",".go_remove_level",function(){jQuery(".go_options_level_names_input").length>1&&(jQuery(".go_options_level_names_input").last().remove(),jQuery(".go_options_level_points_input").last().remove(),jQuery(".go_options_level_badges_input").last().remove()),1==jQuery(".go_options_level_names_input").length&&jQuery(".go_remove_level").remove()}),jQuery('input[name="go_admin_bar_add_switch"]').is(":checked")?(jQuery("#admin_bar_catagories").show("slow"),jQuery('input[name="go_admin_bar_add_minutes_switch"]').parent().show("slow"),jQuery('input[name="go_admin_bar_add_points_switch"]').parent().show("slow"),jQuery('input[name="go_admin_bar_add_currency_switch"]').parent().show("slow"),jQuery('input[name="go_admin_bar_add_bonus_currency_switch"]').parent().show("slow"),jQuery('input[name="go_admin_bar_add_penalty_switch"]').parent().show("slow"),jQuery('input[name="go_bar_add_minutes_switch"]').parent().show("slow"),jQuery('input[name="go_bar_add_points_switch"]').parent().show("slow"),jQuery('input[name="go_bar_add_currency_switch"]').parent().show("slow"),jQuery('input[name="go_bar_add_bonus_currency_switch"]').parent().show("slow"),jQuery('input[name="go_bar_add_penalty_switch"]').parent().show("slow")):(jQuery("#admin_bar_catagories").hide("slow"),jQuery('input[name="go_admin_bar_add_minutes_switch"]').parent().hide("slow"),jQuery('input[name="go_admin_bar_add_points_switch"]').parent().hide("slow"),jQuery('input[name="go_admin_bar_add_currency_switch"]').parent().hide("slow"),jQuery('input[name="go_admin_bar_add_bonus_currency_switch"]').parent().hide("slow"),jQuery('input[name="go_admin_bar_add_penalty_switch"]').parent().hide("slow"),jQuery('input[name="go_bar_add_minutes_switch"]').parent().hide("slow"),jQuery('input[name="go_bar_add_points_switch"]').parent().hide("slow"),jQuery('input[name="go_bar_add_currency_switch"]').parent().hide("slow"),jQuery('input[name="go_bar_add_bonus_currency_switch"]').parent().hide("slow"),jQuery('input[name="go_bar_add_penalty_switch"]').parent().hide("slow")),jQuery('input[name="go_admin_bar_add_switch"]').click(function(){jQuery('input[name="go_admin_bar_add_switch"]').is(":checked")?(jQuery(" #admin_bar_catagories").show("slow"),jQuery('input[name="go_admin_bar_add_minutes_switch"]').parent().show("slow"),jQuery('input[name="go_admin_bar_add_points_switch"]').parent().show("slow"),jQuery('input[name="go_admin_bar_add_currency_switch"]').parent().show("slow"),jQuery('input[name="go_admin_bar_add_bonus_currency_switch"]').parent().show("slow"),jQuery('input[name="go_admin_bar_add_penalty_switch"]').parent().show("slow"),jQuery('input[name="go_bar_add_minutes_switch"]').parent().show("slow"),jQuery('input[name="go_bar_add_points_switch"]').parent().show("slow"),jQuery('input[name="go_bar_add_currency_switch"]').parent().show("slow"),jQuery('input[name="go_bar_add_bonus_currency_switch"]').parent().show("slow"),jQuery('input[name="go_bar_add_penalty_switch"]').parent().show("slow")):(jQuery("#admin_bar_catagories").hide("slow"),jQuery('input[name="go_admin_bar_add_minutes_switch"]').parent().hide("slow"),jQuery('input[name="go_admin_bar_add_points_switch"]').parent().hide("slow"),jQuery('input[name="go_admin_bar_add_currency_switch"]').parent().hide("slow"),jQuery('input[name="go_admin_bar_add_bonus_currency_switch"]').parent().hide("slow"),jQuery('input[name="go_admin_bar_add_penalty_switch"]').parent().hide("slow"),jQuery('input[name="go_bar_add_minutes_switch"]').parent().hide("slow"),jQuery('input[name="go_bar_add_points_switch"]').parent().hide("slow"),jQuery('input[name="go_bar_add_currency_switch"]').parent().hide("slow"),jQuery('input[name="go_bar_add_bonus_currency_switch"]').parent().hide("slow"),jQuery('input[name="go_bar_add_penalty_switch"]').parent().hide("slow"))}),jQuery(".go_add_level").last().after('<button type="button" class="go_remove_level">-</button>'),jQuery(".go_add_level").click(function(){jQuery(".go_remove_level").remove();var e,o="",t=jQuery(".go_options_level_names_input").last().val(),n=t.split(" "),_=n.length;if(_>2){for(var a="",s=0;s<_;s++){var r=n[s];s+1<_&&r.length>0&&(a+=r+" ")}var i=Number(n.pop())+1,p=a+(i<10?"0"+i:i)}else var i=Number(n[1])+1,p=n[0]+" "+(i<10?"0"+i:i);var u=jQuery(".go_options_level_points_input").length+1;o=7.5*(u+18)*(u-1),levels=jQuery(".go_options_level_names_input").length,jQuery("#go_options_level_names").append("<input type='text' class='go_options_level_names_input' name='go_ranks[name]["+levels+"]' value='"+p+"'/>"),jQuery("#go_options_level_points").append("<input type='text' class='go_options_level_points_input' name='go_ranks[points]["+levels+"]' value='"+o+"'/>"),jQuery("#go_options_level_badges").append("<input type='text' class='go_options_level_badges_input' name='go_ranks[badges]["+levels+"]' value=''/>"),jQuery(".go_add_level").last().after('<button type="button" class="go_remove_level">-</button>')}),jQuery("#go_reset_levels").click(function(){var e=GO_OPTION_DATA.nonces.go_reset_levels;jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:e,action:"go_reset_levels"},success:function(e){if(-1!==e){var o=JSON.parse(e);jQuery("#go_options_level_names").empty(),jQuery("#go_options_level_points").empty(),jQuery("#go_options_level_badges").empty();for(name in o.name)jQuery("#go_options_level_names").append("<input type='text' class='go_options_level_names_input' name='go_ranks[name]["+name+"]' value='"+o.name[name]+"'/>");for(point in o.points)jQuery("#go_options_level_points").append("<input type='text' class='go_options_level_points_input' name='go_ranks[points]["+point+"]' value='"+o.points[point]+"'/>");for(badge in o.badges)jQuery("#go_options_level_badges").append("<input type='text' class='go_options_level_badges_input' name='go_ranks[badges]["+badge+"]' value='"+o.badges[badge]+"'/>")}}})}),jQuery("#go_save_levels").click(function(){var e=[],o=[],t=[],n=jQuery(".go_options_level_names_input").length;jQuery(".go_options_level_names_input").each(function(){e.push(jQuery(this).val())}),jQuery(".go_options_level_points_input").each(function(){o.push(jQuery(this).val())}),jQuery(".go_options_level_badges_input").each(function(){t.push(jQuery(this).val())});var _=GO_OPTION_DATA.nonces.go_save_levels;jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:_,action:"go_save_levels",go_level_names:e,go_level_points:o,go_level_badges:t}})}),jQuery("#go_fix_levels").click(function(){var e=GO_OPTION_DATA.nonces.go_fix_levels;jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:e,action:"go_fix_levels"},success:function(e){-1!==e&&location.reload()}})}),jQuery(document).on("click",".go_remove_period",function(){jQuery(".go_options_period_input").length>1&&jQuery(".go_options_period_input").last().remove(),1==jQuery(".go_options_period_input").length&&jQuery(".go_remove_period").remove()}),jQuery(".go_add_period").click(function(){jQuery(".go_remove_period").remove();var e=jQuery(".go_options_period_input").last().val(),o=e.split(" "),t=o.length;if(t>2){for(var n="",_=0;_<t;_++){var a=o[_];_+1<t&&a.length>0&&(n+=a+" ")}var s=Number(o[t-1])+1,r=n+s}else var s=Number(o[1])+1,r=o[0]+" "+s;jQuery("#go_options_periods").append("<input type='text' class='go_options_period_input' name='go_class_a[]' value='"+r+"'/>"),jQuery(".go_add_period").last().after('<button type="button" class="go_remove_period">-</button>')}),jQuery(document).on("click",".go_remove_computer",function(){jQuery(".go_options_computer_input").length>1&&jQuery(".go_options_computer_input").last().remove(),1==jQuery(".go_options_computer_input").length&&jQuery(".go_remove_computer").remove()}),jQuery(".go_add_computer").click(function(){jQuery(".go_remove_computer").remove();var e=jQuery(".go_options_computer_input").last().val(),o=e.split(" "),t=o.length;if(t>2){for(var n="",_=0;_<t;_++){var a=o[_];_+1<t&&a.length>0&&(n+=a+" ")}var s=Number(o.pop())+1,r=n+(s<10?"0"+s:s)}else var s=Number(o[1])+1,r=o[0]+" "+(s<10?"0"+s:s);jQuery("#go_options_computers").append("<input type='text' class='go_options_computer_input' name='go_class_b[]' value='"+r+"'/>"),jQuery(".go_add_computer").last().after('<button type="button" class="go_remove_computer">-</button>')}),jQuery(document).on("click",".go_remove_profession",function(){var e=jQuery(".go_options_profession_input").length;e>1&&jQuery(".go_options_profession_input").last().remove(),2==e&&jQuery(this).remove()}),jQuery(document).on("click",".go_add_profession",function(){jQuery(".go_remove_profession").remove(),jQuery(this).remove(),jQuery("#go_options_professions").append("<input type='text' class='go_options_profession_input' name='go_focus[]' value=''/>"),jQuery(".go_options_profession_input").last().after('<button type="button" class="go_add_profession">+</button>'),jQuery(".go_add_profession").last().after('<button type="button" class="go_remove_profession">-</button>')}),jQuery('input[name="go_data_reset_all"]').click(function(){if(jQuery('input[name="go_data_reset_all"]').is(":checked"))for(input in t)t[input].prop("checked",!0);else for(input in t)t[input].prop("checked",!1)}),jQuery("#go_data_reset").click(function(){if(jQuery('input[name="go_data_reset_switch"]').is(":checked")){var e=[];for(input in t)t[input].is(":checked")&&e.push(t[input].attr("reset"));if(e.length>=1){var o=jQuery("input[name='go_data_reset_all']").is(":checked");if(confirm("WARNING: What you are about to do will reset the chosen types of data from EVERY user on your database. Do you wish to continue?")){var n=GO_OPTION_DATA.nonces.go_reset_data;jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:n,action:"go_reset_data",reset_data:e,reset_all:o},success:function(e){-1!==e&&location.reload()}})}}else alert("ATTENTION: Please select data to reset, and try again!")}}),jQuery("#go_options_form").submit(function(e){if(!0!==e.levels_saved){e.preventDefault();var o=[],t=[],n=[],_=[];jQuery(".go_options_period_input").each(function(e,t){o.push(jQuery(t).val())}),jQuery(".go_options_computer_input").each(function(e,o){t.push(jQuery(o).val())});var a=jQuery("input[name='go_level_names']").val().trim(),s=jQuery("input[name='go_level_names']").attr("old_value").trim(),r=jQuery("input[name='go_class_a_name']").val().trim(),i=jQuery("input[name='go_class_a_name']").attr("old_value").trim(),p=jQuery("input[name='go_class_b_name']").val().trim(),u=jQuery("input[name='go_class_b_name']").attr("old_value").trim();a.length>0&&s.length>0&&a!=s&&jQuery(".go_options_level_names_input").each(function(e){e++;var o=a+" "+(e<10?"0"+e:e);this.value=o}),r.length>0&&i.length>0&&r!=i&&jQuery(".go_options_period_input").each(function(e){e++;var o=r+" "+e;this.value=o}),p.length>0&&u.length>0&&p!=u&&jQuery(".go_options_computer_input").each(function(e){e++;var o=p+" "+(e<10?"0"+e:e);this.value=o}),jQuery(".go_options_period_input").each(function(e,o){n.push(jQuery(o).val())}),jQuery(".go_options_computer_input").each(function(e,o){_.push(jQuery(o).val())});var l=GO_OPTION_DATA.nonces.go_update_user_sc_data;if(jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:l,action:"go_update_user_sc_data",old_class_a:o,old_class_b:t,new_class_a:n,new_class_b:_}}),jQuery('input[name="go_focus_switch"]').is(":checked")){jQuery(".go_options_profession_input").filter(function(){var e=new RegExp("(\\S)+");return!!(this.value.length>0&&e.test(this.value))||(jQuery(this).remove(),!1)});var c=jQuery(".go_options_profession_input").map(function(){return jQuery(this).val()}).get(),y=GO_OPTION_DATA.nonces.go_focus_save;jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:y,action:"go_focus_save",focus_array:c},success:function(e){-1!==e&&jQuery("#go_options_form").trigger({type:"submit",levels_saved:!0})}})}else jQuery("#go_options_form").trigger({type:"submit",levels_saved:!0})}})});